<h1>Ota yhteyttä</h1>

<form [formGroup]="messageForm" (ngSubmit)="onSubmit()">
    <h5 *ngIf="success">Lomake lähetetty onnistuneesti!</h5>

    <label>
        Nimi:
        <input type="text" formControlName="name">
        <div *ngIf="submitted && messageForm.controls['name'].errors" class="error">  <!-- Korjattu .name > ['name'] -->
            <div *ngIf="messageForm.controls['name'].errors['required']">Täytä nimesi</div>
        </div>
    </label>
    <label>
        Viesti:
        <textarea formControlName="message" rows="5"></textarea>
        <div *ngIf="submitted && messageForm.controls['message'].errors" class="error">
            <div *ngIf="messageForm.controls['message'].errors['required']">Täytä viesti</div>
        </div>
    </label>
    <input type="submit" value="Lähetä viesti" class="cta">
</form>

<div *ngIf="submitted" class="results">
    <strong>Nimi:</strong>
    <span>{{ messageForm.controls['name'].value }}</span>
    <strong>Viesti:</strong>
    <span>{{ messageForm.controls['message'].value }}</span>
</div>